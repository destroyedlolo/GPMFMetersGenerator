/* Generate trekking statistic "graphic"
 */

#include "TrkStatGfx.h"

#include <cstdio>
#include <cstdlib>
#include <cerrno>
#include <cstring>

static struct {
  int  	 width;
  int  	 height;
  int  	 bytes_per_pixel; /* 2:RGB16, 3:RGB, 4:RGBA */ 
  unsigned char 	 pixel_data[40 * 40 * 4 + 1];
} imgTrekking = {
  40, 40, 4,
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\377\271O\035\377\266M\254\377\267M\362\377\267M\362\377\270M\257\377\267"
  "N'\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\271O\035\377\267M\355"
  "\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\356\377\271"
  "O\035\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\266M\254\377\267M\377\377"
  "\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\252"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267M\362\377\267M\377\377\267"
  "M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\361\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267M\362\377\267M\377\377\267"
  "M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\360\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267N\256\377\267M\377\377\267"
  "M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\251\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267N'\377\267M\355\377\267M\377"
  "\377\267M\377\377\267M\377\377\267M\377\377\267M\355\377\266I\034\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\266I\034\377\267M\252\377\267"
  "M\361\377\267M\361\377\267M\255\377\272L%\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000Z\275\214\037]\300"
  "\217\231^\300\217\353^\300\217\366Z\274\212\276N\261\177\223\000\000\000\000\377"
  "e\240N\377f\242\312\377g\240\371\377j\235\373\377z\220\274\377\200\200\004"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377y"
  "UH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000_\300\217Y"
  "^\300\217\362^\300\217\377^\300\217\377^\300\217\377M\261~\377A\245q\377"
  "\242\216\220\207\377f\241\376\377f\241\377\377f\241\377\377f\241\377\377"
  "f\241\377\377o\230\370\377\211}j\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\377\265J\037\313\222K\377\371\262L\377\377\267M\234\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000]\301\217k^\300\217\376^\300\217\377^\300\217\377"
  "^\300\217\377^\300\216\377C\247t\377A\245q\377\344o\233\335\377f\241\377"
  "\377f\241\377\377f\241\377\377f\241\377\377f\241\377\377f\241\377\377g\240"
  "\377\377{\213\340\377\214x\065\000\000\000\000\000\000\000\000\377\274N\027\377\267M\221\377"
  "\267M\370\377\267M\377\377\267M\377\377\267M\377\377\277U\014\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000_\301\216F^\300\217\374^\300\217\377^\300\217\377^\300\217\377"
  "^\300\217\377W\272\210\377A\245q\377J\247v\371\377f\241\377\377f\241\377"
  "\377f\241\377\377f\241\377\377f\241\377\377f\241\377\377f\241\377\377f\241"
  "\377\377f\241\377\377j\235\377\377\202\204\275\377\267L\206\377\267M\364"
  "\377\267M\377\377\267M\377\377\267M\377\377\267M\377\377\267M\234\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000U\306\216\011^\300\217\340^\300\217\377^\300\217\377^\300"
  "\217\377^\300\217\377^\300\217\377N\261\177\377A\245q\377r\234\202\340\377"
  "f\241\377\377f\241\377\377f\241\377\377f\241\377\375c\236\377\370X\222\377"
  "\377f\240\377\377f\241\377\377f\241\377\377f\241\377\377f\241\377\377\267"
  "M\377\377\267M\377\377\267M\377\377\267M\377\341\241L\377\234nI\377\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000_\300\216a^\300\217\377^\300\217\377^\300\217\377"
  "^\300\217\377^\300\217\377^\300\217\377F\252v\377A\245q\377\276~\222\331"
  "\377f\241\377\377f\241\377\377f\241\377\377f\241\377\370W\221\377\354@z\377"
  "\363M\210\320\377s\225\255\377h\236\375\377f\241\377\377f\241\377\377\267"
  "M\377\377\267M\377\377\267M\322\377\267NUyUH\377yUH\377\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000^\300\217\273^\300\217\377^\300\217\377^\300\217\377^\300\217"
  "\377^\300\217\377Z\275\214\377A\245q\377B\247s\376\373g\240\371\377f\241"
  "\377\377f\241\377\377f\241\377\377f\241\377\362K\206\377\354@z\377\364P\214"
  "s\000\000\000\000\377v\233\034\377\177\210\273\377m\231\374\377\267M\316\377\270M"
  "S\377\377\000\001\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000^\300\217"
  "\361^\300\217\377^\300\217\377^\300\217\377^\300\217\377^\300\217\377R\265"
  "\203\377A\245q\377\\\242{\354\377f\241\377\377f\241\377\377f\241\377\377"
  "f\241\377\376e\240\377\355A{\377\355A{\376\377U\225\014\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000^\300\217\341^\300\217\377^\300\217\377^\300\217\377"
  "^\300\217\377^\300\217\377J\254z\377A\245q\377\231\212\212\332\377f\241\377"
  "\377f\241\377\377f\241\377\377f\241\377\371Z\225\377\354@z\377\360I\205\343"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000_\300\217y^\300\217\377^\300"
  "\217\377^\300\217\377^\300\217\377]\277\216\377B\247s\377A\245r\377\352n"
  "\234\353\377f\241\377\377f\241\377\377f\241\377\377f\241\377\363N\211\377"
  "\354@z\377\364N\211\234\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000U\252"
  "\252\003^\277\217\200^\300\217\354^\300\217\377^\300\217\377W\271\210\377A"
  "\245q\377O\237w\367\342h\233\377\377f\241\377\377f\241\377\377f\241\377\377"
  "f\240\377\355C}\377\354@z\377\364U\216-\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000U\325\200\006\\\277\217P^\300\217\255S\265\203"
  "\367F\250u\371{z{\353Tnz\377km\177\377\236k\212\377\327h\230\377\372]\230"
  "\377\354@z\377\357F\201\364\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\210kw\353"
  "Tnz\377Tnz\377Tnz\377Tnz\377~h\200\377\312U\203\377\347Y\205\310\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000{i^\333Wn{\377Tnz\377Tnz\377Tnz\377Tnz\377"
  "Tnz\377dtw\375\247\224f\067\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000deN\334\212nu\377"
  "Vn{\377Tnz\377Tnz\377Tnz\377Tnz\377Tnz\377nys\367\252\216h\033\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000_cO\345-L\\\377pkg\377]oz\377Tnz\377Tnz\377Tnz\377Tnz\377Tnz\377"
  "z~q\353\237\237`\010\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000W`Q\355-L\\\377-L\\\377Sb_\377euu\377Tnz"
  "\377Tnz\377Tnz\377Tnz\377Tnz\377\204\201m\331\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000P\\S\364-L\\\377"
  "-L\\\377-L\\\377vpQ\334oys\366Tnz\377Tnz\377Tnz\377Tnz\377Tnz\377\221\207"
  "j\264\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000HXU\371-L\\\377-L\\\377-L\\\377xnH\252\247\215j\035x}p\354Tnz\377"
  "Tnz\377Tnz\377Tnz\377asv\377\326\245X]\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000?UW\375-L\\\377-L\\\377-L\\\377\202r"
  "Dt\000\000\000\000\252\252q\011\207\204l\326Tnz\377Tnz\377\215\206k\377\360\260Q\377"
  "\377\267M\334\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\377\244$\016\371\250%\367\371\250%\377\371\250%\377\371\250%\377\365\247"
  "'\032\000\000\000\000\000\000\000\000\000\000\000\000\231\212h\273\320\243Y\377\377\267M\377\377\267"
  "M\377\377\267M\351\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\371\251%|\371\250%\377\371\250%\377\371\250%\377\371\250%\345\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267Mc\377\267M\377\377\267M\377\377\267"
  "M\377\377\270M\266\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yUH\377"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\377\244$\016\371\250%\355\371\250%\377\371\250%\377\371\250%\377\371\251"
  "%|\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267M\233\377\267M\377\377\267M\377"
  "\377\267M\377\377\270N}\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377yU"
  "H\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\371\247%}\371\250%\377\371\250%\377\371\250%\377\371\250%\357\377\257"
  "\040\020\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267M\324\377\267M\377\377\267"
  "M\377\377\267M\377\377\270OD\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000yUH\377"
  "yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377"
  "\244$\016\371\250%\355\371\250%\377\371\250%\377\371\250%\377\371\251%|\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\273U\017\377\267M\375\377\267M\377\377"
  "\267M\377\377\267M\375\377\273U\017\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\371\247%}\371\250%\377\371\250%\377\371\250%\377\371\250%\357\377"
  "\257\040\020\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\266MF\377\267M\377\377\267"
  "M\377\377\267M\377\377\267M\322\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\377\244$\016\371\250%\355\371\250%\377\371\250%\377\371\250%\377\371"
  "\251%|\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267L\177\377\267M\377"
  "\377\267M\377\377\267M\377\377\267M\231\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\371\247%}\371\250%\377\371\250%\377\371\250%\377\371\250%\357"
  "\377\257\040\020\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267N\270\377\267"
  "M\377\377\267M\377\377\267M\377\377\270La\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\371\250%\344\371\250%\377\371\250%\377\371\250%\377\371\251"
  "%|\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267M\353\377\267M"
  "\377\377\267M\377\377\267M\377\377\264K)\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\371\251%\343\371\250%\377\371\250%\377\371\250%\355\377\244"
  "$\016\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\267N\343\377\267"
  "M\377\377\267M\377\377\267M\346\377\377\000\001\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\370\251&J\371\250$\340\371\250%\333\370\250%L\000\000\000\000\000"
  "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\377\270NK\377\267M\344\377"
  "\267N\343\377\270NK\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000yUH\377yUH\377\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"
  "\000\000\000\000",
};

TrekkingStatGfx::TrekkingStatGfx(GPVideo &v, GPX *h) : Gfx( 250,100, v, h ), sDistance(0) {
	this->calcScales();

	if(this->hiking && this->hiking->isStory()){
		StoryVideo &sv = this->hiking->getCurrentStoryVideo();
		this->sDistance = this->hiking->getSamples()[sv.start].getCumulativeDistance();
	}
	
}

void TrekkingStatGfx::calcScales( void ){
	cairo_text_extents_t extents;
	cairo_t *cr = cairo_create(this->background);

	cairo_select_font_face(cr, "sans", CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);
	cairo_set_font_size(cr, 35);
	cairo_text_extents(cr, "8888.888 km", &extents);
	this->dst_x = this->SX - extents.x_advance - 5;	// used only for the icon
	this->dst_y = extents.height + 7;

	cairo_destroy(cr);
}

void TrekkingStatGfx::generateBackground( void ){
	cairo_surface_t *icn = cairo_image_surface_create_for_data (
		imgTrekking.pixel_data,
	    CAIRO_FORMAT_ARGB32,
		imgTrekking.width, imgTrekking.height,
		40*4
	);
	if(cairo_surface_status(icn) != CAIRO_STATUS_SUCCESS){
		fprintf(stderr, "Creating icon : %s\n", cairo_status_to_string(cairo_surface_status(icn)));
		cairo_surface_destroy(icn);
		icn = NULL;
	}

	cairo_t *cr = cairo_create(this->background);

	if(icn){
		cairo_save(cr);
		cairo_set_source_surface(cr, icn, this->dst_x-imgTrekking.width, 2);
		cairo_rectangle(cr, this->dst_x-imgTrekking.width, 2, imgTrekking.width, imgTrekking.height);
		cairo_fill(cr);
		cairo_restore(cr);
	}

	cairo_destroy(cr);

	if(icn)
		cairo_surface_destroy(icn);
}

void TrekkingStatGfx::generateOneGfx(const char *fulltarget, char *filename, int index, GPMFdata &current){
	cairo_status_t err;

	cairo_surface_t *srf = cairo_image_surface_create(CAIRO_FORMAT_ARGB32, this->SX, this->SY);
	if(cairo_surface_status(srf) != CAIRO_STATUS_SUCCESS){
		puts("*F* Can't create Cairo's surface");
		exit(EXIT_FAILURE);
	}

	cairo_t *cr = cairo_create(srf);

	cairo_set_source_surface(cr, this->background, 0, 0);
	cairo_rectangle(cr, 0,0, this->SX, this->SY);
	cairo_fill(cr);
	cairo_stroke(cr);

	cairo_text_extents_t extents;
	char t[16];
	sprintf(t, "%8.3f km", (current.getCumulativeDistance() + this->sDistance)/1000);
	cairo_select_font_face(cr, "sans", CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);
	cairo_set_font_size(cr, 35);
	cairo_text_extents(cr, t, &extents);

	cairo_set_source_rgba(cr, 0,0,0, 0.55);
	cairo_move_to(cr, (this->SX - extents.x_advance), this->dst_y+2);
	cairo_show_text(cr, t);
	cairo_stroke(cr);

	cairo_set_source_rgb(cr, 1,1,1);	/* Set white color */
	cairo_move_to(cr, (this->SX - extents.x_advance)-2, this->dst_y);
	cairo_show_text(cr, t);
	cairo_stroke(cr);

		/* Writing the image */
	sprintf(filename, "tstt%07d.png", index);
	if(verbose)
		printf("*D* Writing '%s'\r", fulltarget);

	if((err = cairo_surface_write_to_png(srf, fulltarget)) != CAIRO_STATUS_SUCCESS){
		printf("*F* Writing surface : %s / %s\n", cairo_status_to_string(err), strerror(errno));
		exit(EXIT_FAILURE);
	}

		/* Cleaning */
	cairo_destroy(cr);
	cairo_surface_destroy(srf);
}

void TrekkingStatGfx::GenerateAllGfx( const char *fulltarget, char *filename ){
	Gfx::GenerateAllGfx( fulltarget, filename );

		/* Generate video */
	if(genvideo)
		generateVideo(fulltarget, filename, "tstt", "TrekkingStat");
}
